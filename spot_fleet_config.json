{
  "TargetCapacity": 1,
  "IamFleetRole": "arn:aws:iam::081921223382:role/DL-Training-Spot-Fleet-Role",
  "LaunchSpecifications": [
        {
          "ImageId": "ami-0ddba16a97b1dcda5",
          "KeyName": "keras-keypair2",
          "SecurityGroups": [
              {
                  "GroupId": "sg-00cb73578637361a2"
              }
          ],
          "InstanceType": "p2.xlarge",
          "Placement": {
              "AvailabilityZone": "us-west-2a, us-west-2b, us-west-2c, us-west-2d"
          },
                  "UserData": "IyEvYmluL2Jhc2gKIyBHZXQgaW5zdGFuY2UgSUQsIEluc3RhbmNlIEFaLCBWb2x1bWUgSUQgYW5kIFZvbHVtZSBBWiAKSU5TVEFOQ0VfSUQ9JChjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZCkKSU5TVEFOQ0VfQVo9JChjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9wbGFjZW1lbnQvYXZhaWxhYmlsaXR5LXpvbmUpCkFXU19SRUdJT049dXMtd2VzdC0yCgpWT0xVTUVfSUQ9JChhd3MgZWMyIGRlc2NyaWJlLXZvbHVtZXMgLS1yZWdpb24gJEFXU19SRUdJT04gLS1maWx0ZXIgIk5hbWU9dGFnOk5hbWUsVmFsdWVzPURMLWRhdGFzZXRzLWNoZWNrcG9pbnRzIiAtLXF1ZXJ5ICJWb2x1bWVzW10uVm9sdW1lSWQiIC0tb3V0cHV0IHRleHQpClZPTFVNRV9BWj0kKGF3cyBlYzIgZGVzY3JpYmUtdm9sdW1lcyAtLXJlZ2lvbiAkQVdTX1JFR0lPTiAtLWZpbHRlciAiTmFtZT10YWc6TmFtZSxWYWx1ZXM9REwtZGF0YXNldHMtY2hlY2twb2ludHMiIC0tcXVlcnkgIlZvbHVtZXNbXS5BdmFpbGFiaWxpdHlab25lIiAtLW91dHB1dCB0ZXh0KQoKIyBQcm9jZWVkIGlmIFZvbHVtZSBJZCBpcyBub3QgbnVsbCBvciB1bnNldAppZiBbICRWT0xVTUVfSUQgXTsgdGhlbgoJCSMgQ2hlY2sgaWYgdGhlIFZvbHVtZSBBWiBhbmQgdGhlIGluc3RhbmNlIEFaIGFyZSBzYW1lIG9yIGRpZmZlcmVudC4KCQkjIElmIHRoZXkgYXJlIGRpZmZlcmVudCwgY3JlYXRlIGEgc25hcHNob3QgYW5kIHRoZW4gY3JlYXRlIGEgbmV3IHZvbHVtZSBpbiB0aGUgaW5zdGFuY2UncyBBWi4KCQlpZiBbICRWT0xVTUVfQVogIT0gJElOU1RBTkNFX0FaIF07IHRoZW4KCQkJCVNOQVBTSE9UX0lEPSQoYXdzIGVjMiBjcmVhdGUtc25hcHNob3QgXAoJCQkJCQktLXJlZ2lvbiAkQVdTX1JFR0lPTiBcCgkJCQkJCS0tdm9sdW1lLWlkICRWT0xVTUVfSUQgXAoJCQkJCQktLWRlc2NyaXB0aW9uICJgZGF0ZSArIiVEICVUImAiIFwKCQkJCQkJLS10YWctc3BlY2lmaWNhdGlvbnMgJ1Jlc291cmNlVHlwZT1zbmFwc2hvdCxUYWdzPVt7S2V5PU5hbWUsVmFsdWU9REwtZGF0YXNldHMtY2hlY2twb2ludHMtc25hcHNob3R9XScgXAoJCQkJCQktLXF1ZXJ5IFNuYXBzaG90SWQgLS1vdXRwdXQgdGV4dCkKCgkJCQlhd3MgZWMyIHdhaXQgLS1yZWdpb24gJEFXU19SRUdJT04gc25hcHNob3QtY29tcGxldGVkIC0tc25hcHNob3QtaWRzICRTTkFQU0hPVF9JRAoJCQkJYXdzIGVjMiAtLXJlZ2lvbiAkQVdTX1JFR0lPTiAgZGVsZXRlLXZvbHVtZSAtLXZvbHVtZS1pZCAkVk9MVU1FX0lECgoJCQkJVk9MVU1FX0lEPSQoYXdzIGVjMiBjcmVhdGUtdm9sdW1lIFwKCQkJCQkJLS1yZWdpb24gJEFXU19SRUdJT04gXAoJCQkJCQkJCS0tYXZhaWxhYmlsaXR5LXpvbmUgJElOU1RBTkNFX0FaIFwKCQkJCQkJCQktLXNuYXBzaG90LWlkICRTTkFQU0hPVF9JRCBcCgkJCQkJCS0tdm9sdW1lLXR5cGUgZ3AyIFwKCQkJCQkJLS10YWctc3BlY2lmaWNhdGlvbnMgJ1Jlc291cmNlVHlwZT12b2x1bWUsVGFncz1be0tleT1OYW1lLFZhbHVlPURMLWRhdGFzZXRzLWNoZWNrcG9pbnRzfV0nIFwKCQkJCQkJLS1xdWVyeSBWb2x1bWVJZCAtLW91dHB1dCB0ZXh0KQoJCQkJYXdzIGVjMiB3YWl0IHZvbHVtZS1hdmFpbGFibGUgLS1yZWdpb24gJEFXU19SRUdJT04gLS12b2x1bWUtaWQgJFZPTFVNRV9JRAoJCWZpCgkJIyBBdHRhY2ggdm9sdW1lIHRvIGluc3RhbmNlCgkJYXdzIGVjMiBhdHRhY2gtdm9sdW1lIFwKCQkJLS1yZWdpb24gJEFXU19SRUdJT04gLS12b2x1bWUtaWQgJFZPTFVNRV9JRCBcCgkJCS0taW5zdGFuY2UtaWQgJElOU1RBTkNFX0lEIC0tZGV2aWNlIC9kZXYvc2RmCgkJc2xlZXAgMTAKCgkJIyBNb3VudCB2b2x1bWUgYW5kIGNoYW5nZSBvd25lcnNoaXAsIHNpbmNlIHRoaXMgc2NyaXB0IGlzIHJ1biBhcyByb290CgkJbWtkaXIgL2RsdHJhaW5pbmcKCQltb3VudCAvZGV2L3h2ZGYgL2RsdHJhaW5pbmcKCQljaG93biAtUiB1YnVudHU6IC9kbHRyYWluaW5nLwoJCWNkIC9ob21lL3VidW50dS8KCgkJIyBHZXQgdHJhaW5pbmcgY29kZQoJCWdpdCBjbG9uZSBodHRwczovL2dpdGh1Yi5jb20vYWxvcmxvdi9hd3MtdGVzdHMuZ2l0CgkJY2hvd24gLVIgdWJ1bnR1OiBhd3MtdGVzdHMKCQljZCBhd3MtdGVzdHMvCgoJCSMgSW5pdGlhdGUgdHJhaW5pbmcgdXNpbmcgdGhlIHRlbnNvcmZsb3dfMzYgY29uZGEgZW52aXJvbm1lbnQKCQlzdWRvIC1IIC11IHVidW50dSBiYXNoIC1jICJzb3VyY2UgL2hvbWUvdWJ1bnR1L2FuYWNvbmRhMy9iaW4vYWN0aXZhdGUgdGVuc29yZmxvd19wMzY7IHB5dGhvbiB2ZXIxLnB5IgpmaQoKIyBBZnRlciB0cmFpbmluZywgY2xlYW4gdXAgYnkgY2FuY2VsbGluZyBzcG90IHJlcXVlc3RzIGFuZCB0ZXJtaW5hdGluZyBpdHNlbGYKU1BPVF9GTEVFVF9SRVFVRVNUX0lEPSQoYXdzIGVjMiBkZXNjcmliZS1zcG90LWluc3RhbmNlLXJlcXVlc3RzIC0tcmVnaW9uICRBV1NfUkVHSU9OIC0tZmlsdGVyICJOYW1lPWluc3RhbmNlLWlkLFZhbHVlcz0nJElOU1RBTkNFX0lEJyIgLS1xdWVyeSAiU3BvdEluc3RhbmNlUmVxdWVzdHNbXS5UYWdzWz9LZXk9PSdhd3M6ZWMyc3BvdDpmbGVldC1yZXF1ZXN0LWlkJ10uVmFsdWVbXSIgLS1vdXRwdXQgdGV4dCkKYXdzIGVjMiBjYW5jZWwtc3BvdC1mbGVldC1yZXF1ZXN0cyAtLXJlZ2lvbiAkQVdTX1JFR0lPTiAtLXNwb3QtZmxlZXQtcmVxdWVzdC1pZHMgJFNQT1RfRkxFRVRfUkVRVUVTVF9JRCAtLXRlcm1pbmF0ZS1pbnN0YW5jZXMK",
          "IamInstanceProfile": {
              "Arn": "arn:aws:iam::081921223382:instance-profile/DL-Training-Instance-Profile"
          }
      }
  ]
}

